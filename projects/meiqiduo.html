<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>美气多 | 前端文档库</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/docs/hero.png">
    <meta name="description" content="多立恒前端文档仓库">
    
    <link rel="preload" href="/docs/assets/css/0.styles.41cd5c90.css" as="style"><link rel="preload" href="/docs/assets/js/app.11ebd61a.js" as="script"><link rel="preload" href="/docs/assets/js/2.107fa86c.js" as="script"><link rel="preload" href="/docs/assets/js/10.f35a484a.js" as="script"><link rel="prefetch" href="/docs/assets/js/11.5d112844.js"><link rel="prefetch" href="/docs/assets/js/12.3ecc66a1.js"><link rel="prefetch" href="/docs/assets/js/13.f1dc8eef.js"><link rel="prefetch" href="/docs/assets/js/14.4b86dd02.js"><link rel="prefetch" href="/docs/assets/js/15.67c83a2b.js"><link rel="prefetch" href="/docs/assets/js/16.b53733f7.js"><link rel="prefetch" href="/docs/assets/js/3.72b62dc0.js"><link rel="prefetch" href="/docs/assets/js/4.d0bf0655.js"><link rel="prefetch" href="/docs/assets/js/5.3598ada0.js"><link rel="prefetch" href="/docs/assets/js/6.706caab8.js"><link rel="prefetch" href="/docs/assets/js/7.74938af9.js"><link rel="prefetch" href="/docs/assets/js/8.1999c9eb.js"><link rel="prefetch" href="/docs/assets/js/9.ba526ada.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.41cd5c90.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/hero.png" alt="前端文档库" class="logo"> <span class="site-name can-hide">前端文档库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目文档" class="dropdown-title"><span class="title">项目文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目文档" class="mobile-dropdown-title"><span class="title">项目文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/projects/weixin/" class="nav-link">
  一键订气
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/meiqiduo/" class="nav-link">
  美气多
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/xinhua/" class="nav-link">
  兴华燃气
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/line/" class="nav-link">
  微信审批
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/rqb/" class="nav-link">
  燃气宝
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构模板" class="dropdown-title"><span class="title">架构模板</span> <span class="arrow down"></span></button> <button type="button" aria-label="架构模板" class="mobile-dropdown-title"><span class="title">架构模板</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/template/vue-pc-template/" class="nav-link">
  vue-pc-template
</a></li><li class="dropdown-item"><!----> <a href="/docs/template/vue-h5-template/" class="nav-link">
  vue-h5-template
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/codeSpec/" class="nav-link">
  前端代码规范
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目文档" class="dropdown-title"><span class="title">项目文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目文档" class="mobile-dropdown-title"><span class="title">项目文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/projects/weixin/" class="nav-link">
  一键订气
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/meiqiduo/" class="nav-link">
  美气多
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/xinhua/" class="nav-link">
  兴华燃气
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/line/" class="nav-link">
  微信审批
</a></li><li class="dropdown-item"><!----> <a href="/docs/projects/rqb/" class="nav-link">
  燃气宝
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构模板" class="dropdown-title"><span class="title">架构模板</span> <span class="arrow down"></span></button> <button type="button" aria-label="架构模板" class="mobile-dropdown-title"><span class="title">架构模板</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/template/vue-pc-template/" class="nav-link">
  vue-pc-template
</a></li><li class="dropdown-item"><!----> <a href="/docs/template/vue-h5-template/" class="nav-link">
  vue-h5-template
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/others/codeSpec/" class="nav-link">
  前端代码规范
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>美气多</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/projects/meiqiduo.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#技术栈" class="sidebar-link">技术栈</a></li></ul></li><li><a href="/docs/projects/meiqiduo.html#快速开始" class="sidebar-link">快速开始</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#克隆项目" class="sidebar-link">克隆项目</a></li><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#安装依赖" class="sidebar-link">安装依赖</a></li><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#运行发布" class="sidebar-link">运行发布</a></li><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#开发调试" class="sidebar-link">开发调试</a></li></ul></li><li><a href="/docs/projects/meiqiduo.html#功能点记录" class="sidebar-link">功能点记录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#跨域代理" class="sidebar-link">跨域代理</a></li><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#图标" class="sidebar-link">图标</a></li><li class="sidebar-sub-header"><a href="/docs/projects/meiqiduo.html#各端差异性处理" class="sidebar-link">各端差异性处理</a></li></ul></li><li><a href="/docs/projects/meiqiduo.html#辅助文档" class="sidebar-link">辅助文档</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="美气多"><a href="#美气多" class="header-anchor">#</a> 美气多</h1> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <h3 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h3> <p><a href="/docs/美气多说明书.ppt">美气多说明书.ppt</a></p> <p>美气多是一款基于微信公众号和支付宝小程序的在线开户订气平台。</p> <p>用户端：</p> <p>​	使用 <a href="https://uniapp.dcloud.io/" target="_blank" rel="noopener noreferrer">uni-app<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 开发，做到一套代码在微信公众号（h5）和支付宝小程序两端通用。</p> <p>​	<a href="https://gitlab.haoyunqi.com.cn/wangzs/meiqiduo" target="_blank" rel="noopener noreferrer">代码地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>商家端:</p> <p>​	企业商家端直接接入好运气系统，由好运气系统维护人员维护开发，本文档不做概述。</p> <p>平台端：</p> <p>​	美气多平台端，用来处理美气多项目平台相关的配置管理，使用 <a href="/docs/template/vue-pc-template.html">vue-pc-template</a> 模板开发，详见对应文档。</p> <p>​	<a href="https://gitlab.haoyunqi.com.cn/wangzs/caesar-shop-front" target="_blank" rel="noopener noreferrer">代码地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>​	商家端由后端人员维护，平台端文档直接参考vue-pc-template，本文档主要是介绍用户端</p></div> <h3 id="技术栈"><a href="#技术栈" class="header-anchor">#</a> 技术栈</h3> <p>​	本项目技术栈基于 ES2015+、uni-app、vue 、vuex 、uni-ui，提前了解和学习这些知识会对使用本项目有很大的帮助。</p> <h2 id="快速开始"><a href="#快速开始" class="header-anchor">#</a> 快速开始</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>​	本项目采用uni-app脚手架模式开发，通过vue-cli创建uni-app项目，摆脱了一定要用HBuilderX编辑器打包编译的问题，开发体验与正常基于webpack开发的项目一致，方便自动化集成。<a href="https://uniapp.dcloud.io/quickstart-cli" target="_blank" rel="noopener noreferrer">详见uni-app文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="克隆项目"><a href="#克隆项目" class="header-anchor">#</a> 克隆项目</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone http://gitlab.haoyunqi.com.cn/wangzs/meiqiduo.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="安装依赖"><a href="#安装依赖" class="header-anchor">#</a> 安装依赖</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="运行发布"><a href="#运行发布" class="header-anchor">#</a> 运行发布</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># h5端启动开发服务</span>
<span class="token function">npm</span> run dev:h5
<span class="token comment"># h5端打包编译项目</span>
<span class="token function">npm</span> run build:h5

<span class="token comment"># 支付宝小程序端启动开发环境</span>
<span class="token function">npm</span> run dev:mp-alipay
<span class="token comment"># 支付宝小程序端启动生产环境</span>
<span class="token function">npm</span> run build:mp-alipay
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>更多运行发布命令，详见 <a href="https://uniapp.dcloud.io/quickstart-cli?id=%e8%bf%90%e8%a1%8c%e3%80%81%e5%8f%91%e5%b8%83uni-app" target="_blank" rel="noopener noreferrer">uni-app官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="开发调试"><a href="#开发调试" class="header-anchor">#</a> 开发调试</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>​	由于是一套代码，打包成多端运行，可以在先在其中一端进行开发调试，开发完成后再在其他端，调试是否存在异常需要处理。</p> <p>​	eg: 先在h5端完成开发调试，通过后再打开支付宝开发工具调试支付宝端。</p></div> <h4 id="微信公众号端-h5端"><a href="#微信公众号端-h5端" class="header-anchor">#</a> 微信公众号端（h5端）</h4> <h5 id="pc端调试"><a href="#pc端调试" class="header-anchor">#</a> pc端调试</h5> <p>​	项目是基于微信公众号的，所以开发调试工具必须是 <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Web_Developer_Tools.html" target="_blank" rel="noopener noreferrer">微信开发者工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>开发流程参考：</p> <p>​	微信公众号开发流程</p> <p>​	<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html" target="_blank" rel="noopener noreferrer">微信JS-SDK说明文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h5 id="真机调试"><a href="#真机调试" class="header-anchor">#</a> 真机调试</h5> <p>​	移动端项目，在真机上即便是抓包依旧存在调试不便的情况。</p> <p>​	故在项目的404页面里添加了后门，用于引入 <a href="https://github.com/Tencent/vConsole" target="_blank" rel="noopener noreferrer">vConsole<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 做为真机调试工具</p> <p>具体操作流程：</p> <ol><li><p>在微信里输入本项目任意不存在的路由（前端路由即#号后为任意不存在路由），进入本项目的404页面</p> <p><img src="https://gitee.com/Fuphoenixes/images/raw/master/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210223161637.jpg" alt="微信图片_20210223161637" style="zoom:25%;"> <img src="https://gitee.com/Fuphoenixes/images/raw/master/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210223161645.jpg" alt="微信图片_20210223161645" style="zoom:25%;"></p></li> <li><p>在 “404 Not Found”这段文字上，左右滑动超过2秒，即会打开后门，弹出设置调试器弹框，输入密码543210 点击确定，即可打开调试器</p></li></ol> <p>​       <img src="https://gitee.com/Fuphoenixes/images/raw/master/images/微信图片_20210223155509.jpg" style="zoom:25%;"> <img src="https://gitee.com/Fuphoenixes/images/raw/master/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210223155515.jpg" alt="微信图片_20210223155515" style="zoom:25%;"></p> <h4 id="支付宝端"><a href="#支付宝端" class="header-anchor">#</a> 支付宝端</h4> <p>​	启动项目运行<code>npm run dev:mp-alipay</code>（或 <code>npm run build:mp-alipay</code>）后，使用 <a href="https://opendocs.alipay.com/mini/ide" target="_blank" rel="noopener noreferrer">支付宝小程序开发者工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 打开项目下的 <code>dist/dev/mp-alipay</code> （或 <code>dist/build/mp-alipay</code>）文件夹。后续开发调试与支付宝小程序官方开发调试模式一致，可 <a href="https://opendocs.alipay.com/mini/ide/debug" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="功能点记录"><a href="#功能点记录" class="header-anchor">#</a> 功能点记录</h2> <h3 id="跨域代理"><a href="#跨域代理" class="header-anchor">#</a> 跨域代理</h3> <p>​	在 <code>dev</code> 开发模式下可以下使用 webpack 的 <code>proxy</code> 使用也是很方便，参照 <a href="https://www.webpackjs.com/configuration/dev-server/#devserver-proxy" target="_blank" rel="noopener noreferrer">文档 (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>就会使用了，楼主一些个人项目使用的该方法。但这种方法在生产环境是不能使用的。在生产环境中需要使用 <code>nginx</code> 进行反向代理。不管是 <code>proxy</code> 和 <code>nginx</code> 的原理都是一样的，通过搭建一个中转服务器来转发请求规避跨域的问题。</p> <table><thead><tr><th style="text-align:center;">开发环境</th> <th>生产环境</th></tr></thead> <tbody><tr><td style="text-align:center;">cors</td> <td>cors</td></tr> <tr><td style="text-align:center;">proxy</td> <td>nginx</td></tr></tbody></table> <p>示列</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code> <span class="token comment">// manifest.json</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      '/proxy'<span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span> 'http<span class="token operator">:</span><span class="token comment">//xxxxxxxxxx',</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>
          '^/proxy'<span class="token operator">:</span> ''
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="图标"><a href="#图标" class="header-anchor">#</a> 图标</h3> <p>​	由于要同时兼容多端，故本项目图标直接使用<code>image</code>标签引入下载好的图片。</p> <h3 id="各端差异性处理"><a href="#各端差异性处理" class="header-anchor">#</a> 各端差异性处理</h3> <p>​	参考 <a href="https://uniapp.dcloud.io/platform" target="_blank" rel="noopener noreferrer">uni-app 官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>​	对于项目中由各端差异性导致无法一套代码完成同时适配多端的情况，建议针对各端分别封装好各自的逻辑，再引入页面。</p> <p>​	定位逻辑、支付逻辑：</p> <p>​	分别在 <code>src/utils/h5.js</code> 和 <code>src/utils/mp.js</code> 里封装了对应的逻辑，提供页面直接引入使用</p> <p>​	ocr识别逻辑：</p> <p>​	在 <code>src/utils/ocr.js</code> 里实现封装</p> <p>​	图片压缩逻辑：</p> <p>​	分别在 <code>src/utils/h5-compress.js</code> 和 <code>src/utils/mp-compress.js</code>里实现封装</p> <h2 id="辅助文档"><a href="#辅助文档" class="header-anchor">#</a> 辅助文档</h2> <p>​	<a href="https://uniapp.dcloud.io/README" target="_blank" rel="noopener noreferrer">uni-app文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>​	<a href="https://uniapp.dcloud.io/component/README?id=uniui" target="_blank" rel="noopener noreferrer">uni-ui文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>​	<a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer">vue文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>​	<a href="https://vuex.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">vuex文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>​	<a href="https://opendocs.alipay.com/mini/developer" target="_blank" rel="noopener noreferrer">支付宝小程序文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">2/23/2021, 7:19:26 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.11ebd61a.js" defer></script><script src="/docs/assets/js/2.107fa86c.js" defer></script><script src="/docs/assets/js/10.f35a484a.js" defer></script>
  </body>
</html>
